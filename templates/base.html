{%- import 'macros.html' as m -%}

{%- macro o(option) -%}
    id="{{ option + "-related" }}"{{ "" if g[option] else " disabled" }}
{%- endmacro -%}

<!DOCTYPE html>
<html>

<head>
    <title> {{ HOSTNAME }} - {% block title -%} {{ g.rpath.page_name }} {%- endblock -%} </title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.3, minimum-scale=0.7 user-scalable=yes">
    <meta property="og:title" content="{{ HOSTNAME }} - {{ self.title() }}">
    <meta property="og:description" content="{%- block description -%} Small blog site made by t.me/sliva0 {%- endblock -%}">
    <meta property="og:image" content="/static/media/preview.png">

    <link rel="stylesheet" type="text/css" href="/static/css/base.css">
    <link rel="stylesheet" type="text/css" href="/static/css/themes.css">
    <link rel="icon" type="image/svg+xml" href="/static/media/favicon.svg">
    <link rel="alternate icon" type="image/png" href="/static/media/favicon.png">

    <link rel="stylesheet" type="text/css" href="/static/css/fonts.css" {{ o('fonts') }}>
    <link rel="stylesheet" type="text/css" href="/static/css/highlight.css" {{ o('use_hl') }}>
    <link rel="stylesheet" type="text/css" href="/static/css/extra.css" {{ o('extra_css') }}>

    <style id="body_width-related">
        body {
            --body-width: {{ g.body_width }}rem; /**/
        }
    </style>

    {%- block head -%} {%- endblock -%}
</head>

<body class="theme-apply {{ g.theme }} {{ g.mode }}">
    <header>
        {{ m.icon_link_button("home", "Home", "/") }}
        {{ m.breadcrumbs() }}
        {%- block header_buttons -%} {%- endblock -%}
        {{ m.icon_link_button("settings", "Settings", "/settings") }}
        {{ m.invert_theme_button() }}
    </header>
    <main>
        {%- block content -%}
        {%- endblock -%}
    </main>
    <footer>
        <a class="button" href="/license">
            <span class="svg-icon license-icon"></span> MIT License
        </a>
        {{ m.icon_link_button("person", 'Author', '/about') }}
    </footer>
    
    {%- if g.use_js -%} 
        <script src="/static/js/script.js"></script>
    {%- endif -%}
</body>

</html>